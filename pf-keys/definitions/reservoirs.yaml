# reservoirs.yaml
# Definitions of all reservoir items

# -----------------------------------------------------------------------------
# Reservoirs
# -----------------------------------------------------------------------------

Reservoirs:
  __doc__: >
    Here we define the reservoirs for the model.

  # Reservoirs.Names not in grep
  Names:
    help: >
      [Type: string] This key specifies the names fo the reservoirs for which input data will be given.
    domains:
      AnyString:
    handlers:
      ReservoirUpdater:
        type: ChildrenHandler
        class_name: ReservoirItem

  .{reservoir_name}:
    __class__: ReservoirItem
    __rst__:
      name: Reservoirs.{reservoir_name}
    __doc__: >
      Specifying properties for reservoirs
    __simput__:
      type: VariableTable
      table_label: Reservoir

    InputType:
      help: >
        [Type: string] This key specifies the type of reservoir to be defined for the given reservoir, reservoir_name. This key can be either Vertical or
        Recirc. The value Vertical indicates that this is a single segmented reservoir whose action will be specified by the user.
        The value Recirc indicates that this is a dual segmented, recirculating, reservoir with one segment being an extraction
        reservoir and another being an injection reservoir. The extraction reservoir filters out a specified fraction of each contaminant and
        recirculates the remainder to the injection reservoir where the diluted fluid is injected back in. The phase saturations at
        the extraction reservoir are passed without modification to the injection reservoir.
        Note with the recirculating reservoir, several input options are not needed as the extraction reservoir will provide these
        values to the injection reservoir.
      domains:
        EnumDomain:
          enum_list:
            - Vertical
            - Recirc

    Action:
      help: >
        [Type: string] This key specifies the pumping action of the reservoir. This key can be either Injection or Extraction. A value of
        Injection indicates that this is an injection reservoir. A value of Extraction indicates that this is an extraction reservoir.
      domains:
        EnumDomain:
          enum_list:
            - Injection
            - Extraction

#    ReleaseCurveFile:
#      help: >
#        [Type: string] This key specifies the release curve of the reservoir as a timeseries (TBD FORMATTING DOC)
#      domains:
#        AnyString:

    Type:
      # type is wrong in manual (should be string). Also, multiple typos
      help: >
        [Type: string] This key specifies the mechanism by which the reservoir works (how ParFlow works with the reservoir data) if the input
        type key is set to Vertical. This key can be either Pressure or Flux. A value of Pressure indicates that the
        data provided for the reservoir is in terms of hydrostatic pressure and ParFlow will ensure that the computed pressure
        field satisfies this condition in the computational cells which define the reservoir. A value of Flux indicates that the data
        provided is in terms of volumetric flux rates and ParFlow will ensure that the flux field satisfies this condition in
        the computational cells which define the reservoir.
      domains:
        EnumDomain:
          enum_list:
            - Pressure
            - Flux

    ExtractionType:
      help: >
        [Type: string] This key specifies the mechanism by which the extraction reservoir works (how ParFlow works with the reservoir data)
        if the input type key is set to Recirc. This key can be either Pressure or Flux. A value of Pressure indicates
        that the data provided for the reservoir is in terms of hydrostatic pressure and ParFlow will ensure that the computed
        pressure field satisfies this condition in the computational cells which define the reservoir. A value of Flux indicates
        that the data provided is in terms of volumetric flux rates and ParFlow will ensure that the flux field satisfies this
        condition in the computational cells which define the reservoir.
      domains:
        EnumDomain:
          enum_list:
            - Pressure
            - Flux

    InjectionType:
      help: >
        [Type: string] This key specifies the mechanism by which the injection reservoir works (how ParFlow works with the reservoir data)
        if the input type key is set to Recirc. This key can be either Pressure or Flux. A value of Pressure indicates
        that the data provided for the reservoir is in terms of hydrostatic pressure and ParFlow will ensure that the computed
        pressure field satisfies this condition in the computational cells which define the reservoir. A value of Flux indicates
        that the data provided is in terms of volumetric flux rates and ParFlow will ensure that the flux field satisfies this
        condition in the computational cells which define the reservoir.
      domains:
        EnumDomain:
          enum_list:
            - Pressure
            - Flux

    Release_X:
      # typos - vertical
      help: >
        [Type: double] This key specifies the x location of where the reservoir releases water
      domains:
        DoubleValue:

    Release_Y:
      # typos - vertical
      help: >
        [Type: double] This key specifies the y location of where the reservoir releases water
      domains:
        DoubleValue:

    Secondary_Intake_X:
      # typos - vertical
      help: >
        [Type: double] This key specifies the x location of the optional secondary intake cell
      default: -1.0
      domains:
        DoubleValue:

    Secondary_Intake_Y:
      # typos - vertical
      help: >
        [Type: double] This key specifies the y location of the optional secondary intake cell
      default: -1.0
      domains:
        DoubleValue:

    Has_Secondary_Intake_Cell:
      # typos - vertical
      help: >
        [Type: double] This key specifies the y location of the optional secondary intake cell
      default: 0
      domains:
        IntValue:

    Min_Release_Capacity:
      # typos - vertical
      help: >
        [Type: double]
      domains:
        DoubleValue:

    Max_Capacity:
      # typos - vertical
      help: >
        [Type: double]
      domains:
        DoubleValue:

    current_storage:
      # typos - vertical
      help: >
        [Type: double]
      domains:
        DoubleValue:

    Release_Rate:
      # typos - vertical
      help: >
        [Type: double]
      domains:
        DoubleValue:

    Intake_X:
      # typos - vertical
      help: >
        [Type: double] This key specifies the x location of where the reservoir intakes water
      domains:
        DoubleValue:

    Intake_Y:
      # typos - vertical
      help: >
        [Type: double] This key specifies the y location of where the reservoir intakes water.
      domains:
        DoubleValue:

    ZUpper:
      # typos - vertical
      help: >
        [Type: double] This key specifies the z location of the upper extent of a vertical reservoir if the input type is set to Vertical.
      domains:
        DoubleValue:

    ExtractionZUpper:
      help: >
        [Type: double] This key specifies the z location of the upper extent of a extraction reservoir if the input type is set to Recirc.
      domains:
        DoubleValue:

    InjectionZUpper:
      help: >
        [Type: double] This key specifies the z location of the upper extent of an injection reservoir if the input type is set to Recirc.
      domains:
        DoubleValue:

    ZLower:
      # typos - vertical
      help: >
        [Type: double] This key specifies the z location of the lower extent of a vertical reservoir if the input type is set to Vertical.
      domains:
        DoubleValue:

    ExtractionZLower:
      help: >
        [Type: double] This key specifies the z location of the upper extent of a extraction reservoir if the input type is set to Recirc.
      domains:
        DoubleValue:

    InjectionZLower:
      help: >
        [Type: double] This key specifies the z location of the upper extent of an injection reservoir if the input type is set to Recirc.
      domains:
        DoubleValue:

    Method:
      help: >
        [Type: string] This key specifies a method by which pressure or flux for a vertical reservoir will be weighted before assignment to
        computational cells. This key can only be Standard if the type key is set to Pressure; or this key can be either
        Standard,Weighted or Patterned if the type key is set to Flux. A value of Standard indicates that the pressure
        or flux data will be used as is. A value of Weighted indicates that the flux data is to be weighted by the cells
        permeability divided by the sum of all cell permeabilities which define the reservoir. The value of Patterned is not
        implemented.
      domains:
        EnumDomain:
          enum_list:
            - Standard
            - Weighted
            - Patterned

    ExtractionMethod:
      help: >
        [Type: string] This key specifies a method by which pressure or flux for an extraction reservoir will be weighted before assignment
        to computational cells. This key can only be Standard if the type key is set to Pressure; or this key can be
        either Standard, Weighted or Patterned if the type key is set to Flux. A value of Standard indicates that the
        pressure or flux data will be used as is. A value of Weighted indicates that the flux data is to be weighted by the
        cells permeability divided by the sum of all cell permeabilities which define the reservoir. The value of Patterned is not
        implemented.
      domains:
        EnumDomain:
          enum_list:
            - Standard
            - Weighted
            - Patterned

    InjectionMethod:
      help: >
        [Type: string] This key specifies a method by which pressure or flux for an injection reservoir will be weighted before assignment
        to computational cells. This key can only be Standard if the type key is set to Pressure; or this key can be
        either Standard, Weighted or Patterned if the type key is set to Flux. A value of Standard indicates that the
        pressure or flux data will be used as is. A value of Weighted indicates that the flux data is to be weighted by the
        cells permeability divided by the sum of all cell permeabilities which define the reservoir. The value of Patterned is not
        implemented.
      domains:
        EnumDomain:
          enum_list:
            - Standard
            - Weighted
            - Patterned